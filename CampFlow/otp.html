<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OTP</title>
    <link rel="stylesheet" href="./media/CSS/bootstrap.min.css" />
    <style>
      input {
        width: 40px;
        text-align: center;
        border: none;
        background-color: transparent;
        border-bottom: 2px solid rgb(150, 150, 150);
      }
      input:focus {
        border-bottom: 2px solid rgb(50, 50, 200);
        outline: none;
      }
    </style>
  </head>
  <body>
    <div class="container-fluid align-content-center" style="height: 100vh">
      <div class="row justify-content-center">
        <div class="col-11 col-md-11 justify-content-center">
          <img
            src="./media/Images/undraw_secure-login_m11a.png"
            class="d-block"
            alt=""
            style="height: 150px; margin: auto"
          />
        </div>
        <div class="col-11 col-md-4">
          <form>
            <h4 class="text-center fw-bold mb-4" style="width: 100%">
              Enter the OTP sent
            </h4>
            <div class="d-flex mb-3 gap-3 justify-content-center">
              <input type="text" min="0" maxlength="1" id="otp1" />
              <input type="text" min="0" maxlength="1" id="otp2" />
              <input type="text" min="0" maxlength="1" id="otp3" />
              <input type="text" min="0" maxlength="1" id="otp4" />
              <input type="text" min="0" maxlength="1" id="otp5" />
              <input type="text" min="0" maxlength="1" id="otp6" />
            </div>
            <div class="row justify-content-center mb-4">
              <div class="col-5 text-muted" id="timer">1:00</div>
              <div class="col-5 text-end" id="resend">
                <span class="text-muted" style="cursor: default">resend</span>
              </div>
            </div>
            <button
              class="btn btn-primary my-2 rounded-pill"
              style="width: 100%"
            >
              Submit
            </button>
          </form>
          <div class="text-center">
            <p>Already have an account?</p>
            <a href="index.html" class="text-decoration-none">Login</a>
          </div>
        </div>
      </div>
      <div class="d-md-none" style="height: 200px"></div>
    </div>
    <script src="./media/JS/bootstrap.bundle.js"></script>
    <script type="text/javascript">
      const resend = document.getElementById("resend");
      const timer = document.getElementById("timer");
      time = 59;
      const intv = setInterval(() => {
        timer.innerHTML = time > 9 ? "0:" + time : "0:0" + time;
        time--;
        if (time < 0) {
          clearInterval(intv);
          resend.innerHTML =
            '<span style="cursor:pointer" class="text-primary" onclick="restartTimer()" >resend</span>';
        }
      }, 1000);

      function restartTimer() {
        timer.innerHTML = "1:00";
        resend.innerHTML =
          '<span class="text-muted" style="cursor: default">resend</span>';
        time = 59;
        const intv = setInterval(() => {
          timer.innerHTML = time > 9 ? "0:" + time : "0:0" + time;
          time--;
          if (time < 0) {
            clearInterval(intv);
            resend.innerHTML =
              '<span style="cursor:pointer" class="text-primary" onclick="restartTimer()" >resend</span>';
          }
        }, 1000);
      }
    </script>
  </body>
</html>
